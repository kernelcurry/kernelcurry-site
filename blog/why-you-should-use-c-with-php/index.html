<!doctype html><html lang=en><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Why You Should Use C With Php</title>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/normalize.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/font-fontawesome.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/font-lato.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/global.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/header.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/hero.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/blog-list.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/blog-single.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/career-list.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/career-single.css>
<link rel=stylesheet type=text/css href=https://kernelcurry.comcss/footer.css>
</head><body><div class=header>
<div class=brand-container>
<a href=https://kernelcurry.com>KernelCurry</a>
</div>
<div class=page-nav-container>
<ul>
<li>
<a href=/blog title=Blog>Blog</a>
</li><li>
<a href=/career title=Career>Career</a>
</li><li>
<a href=/project title=Projects>Projects</a>
</li>
</ul>
</div>
<div class=social-nav-container>
<ul>
<li>
<a href=https://twitter.com/kernelcurry title rel="nofollow noopener noreferrer" target=_blank>
<i class="fa fa-twitter"></i>
</a>
</li><li>
<a href=https://github.com/michaelcurry title rel="nofollow noopener noreferrer" target=_blank>
<i class="fa fa-github"></i>
</a>
</li><li>
<a href=https://www.linkedin.com/in/michaeliancurry title rel="nofollow noopener noreferrer" target=_blank>
<i class="fa fa-linkedin"></i>
</a>
</li>
</ul>
</div>
</div><div class=main-container>
<div class=blog-single itemscope itemtype=http://schema.org/BlogPosting>
<div class=blog-hero>
<h1 itemprop=headline>Why You Should Use C With Php</h1>
<span class=block-quote itemprop=abstract>A few months ago, I calculated the top Magic: The Gathering cards in the games modern format ... It took 30 minutes in PHP. How long would it take in C?</span>
<div class=meta>
<i class="fa fa-clock-o" aria-hidden=true></i>
2 Minutes
</div>
<div class=meta>
<i class="fa fa-pencil" aria-hidden=true></i>
Published: January 7, 2014
</div>
</div>
<div class=blog-content>
<p>A few months ago, I calculated the top Magic: The Gathering cards in the games modern format [LINK_BROKEN]. This was accomplished using pure PHP. In total it took about 30 minutes to calculate. With a 30 minute runtime, I wanted to find a faster way to crunch the numbers. What better way than to use C.</p>
<p>As I did not want to spend the time rewriting code if it did not make a difference, I thought I would use a simple application for this experiment: Calculating the nth term of the fibonacci sequence.</p>
<h3 id=results>Results</h3>
<p>To start, let’s look at the big picture. the graph below shows the runtime in micro seconds of executing pure PHP & PHP using C from term 0 to 100,000 tested every 1000 terms.</p>
<p><code>fibonacci-100000.png [Image Missing]</code></p>
<p>As can been seen, there is a huge difference in runtime between the 2 applications. With lots of calculations, using pure PHP does not stand a chance against its counterpart of using C to do the heavy lifting.</p>
<p>Although there is a huge difference when calculating a large term, let’s drill down a little deeper. This next graph shows the runtime of the nth term being calculated from 0 to 1000 tested every term.</p>
<p><code>fibonacci-1000.png [Image Missing]</code></p>
<p>It looks like there is a grace period where pure PHP out performs PHP using C. When calculating the terms 0 to 728 using pure PHP is faster. But, you are only saving, at most, 6000 microseconds (0.006 Seconds).</p>
<h3 id=conclusion>Conclusion</h3>
<p>Although using C to do the heavy lifting of calculations is overall faster, it may be overkill for some situations. But when it comes down to brass tacks, I am going to use C.</p>
<h3 id=specifics>Specifics</h3>
<p>Source Code: <a href=https://github.com/kernelcurry/fibonacci-php-c>kernelcurry/fibonacci-php-c</a></p>
<p>Computer: All tests were completed on a Macbook Air.</p>
<p>Data Collected: All data was collected using <a href=https://github.com/facebook/xhprof>xhprof</a></p>
<p>Data Points: Tests were run 4 times at each data point.</p>
<hr>
<p><strong>UPDATE [06-23-2017]:</strong> Most of the link and images on this page are broken. Please stay tuned for a follow-up blog post on this topic.</p>
</div>
</div>
</div><div class=footer>
<div class=footer-nav>
<ul>
<li>
<span>KernelCurry</span>
</li>
<li>
<a href=/blog title=Blog>Blog</a>
</li><li>
<a href=/career title=Career>Career</a>
</li><li>
<a href=/project title=Projects>Projects</a>
</li>
</ul>
</div>
<p>
KernelCurry &copy; <a href=http://curryisms.com/ target=_blank rel="nofollow noopener noreferrer">Copywrite</a> 2014
</p>
</div></body>
</html>