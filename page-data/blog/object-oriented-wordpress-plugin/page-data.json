{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/object-oriented-wordpress-plugin/","result":{"data":{"site":{"siteMetadata":{"title":"KernelCurry","author":"KernelCurry"}},"markdownRemark":{"id":"6a7ce849-3815-5f9a-8909-bd462672c004","excerpt":"You just learned how to create a simple WordPress plugin, and now you hear people talking about how WordPress is becoming more object…","html":"<p>You just learned how to create a simple WordPress plugin, and now you hear people talking about how WordPress is becoming more object-oriented. What does that mean? Lets take a step back and start with the basics.</p>\n<p>Most simple WordPress plugins are written using procedural programming. This means that your code excited from top to bottom; calling functions and setting variables along the way. A prime example of this is the default WordPress plugin: <a href=\"https://github.com/WordPress/WordPress/blob/7ee6ad566d5b28bcbb105432f1dbf06751c1aeda/wp-content/plugins/hello.php\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Hello Dolly</a>. Lets take this simple plugin and restructure it to be object-oriented.</p>\n<h3>Step 1: The Class</h3>\n<p>There are a few parts of an object in object-oriented programming that you will need to know. The first of being the “Class”. A Class is the object wrapper. For example we are going to make a Class with the name HelloDolly. We can call this Class by setting a variable equal to a new instance of the class. This is done by using the reserved word ‘new’ before the Class name.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">Class</span> HelloDolly\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// End Class</span>\n\n<span class=\"token variable\">$hello_dolly_oop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloDolly</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Step 2: The Constructor</h3>\n<p>Once the class is created we need to put in the classes constructor. The constructor will be called when the Class is instantiated. In other words, this is the ‘main’ function of the Class.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">Class</span> HelloDolly\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// End Class</span>\n\n<span class=\"token variable\">$hello_dolly_oop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloDolly</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Step 3: The Functions</h3>\n<p>Next lets simply add in the functions of the plugin. There will be some changes to these functions in step 4, but for now just copy and paste them into the Class.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">Class</span> HelloDolly\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello_dolly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">dolly_css</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello_dolly_get_lyric</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// End Class</span>\n\n<span class=\"token variable\">$hello_dolly_oop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloDolly</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>Step 4: Using $this</h3>\n<p>This leads us to the last step: calling the functions within the Class. There are two lines that start with <code class=\"language-text\">add_action(</code>. These lines are going to be placed into the constructor of the Class, but need to changed slightly. The function name that is being called needs to be instructed to call the function within the Class. To do this wrap the function name in an array with the first element in the array being the variable $this. The variable $this is a variable that is automatically set when the Class is instantiated. It reverences the current Class. This trick also needs to be done in one other place, but in a slightly different way. when calling the <code class=\"language-text\">hello_dolly_get_lyric</code> function, call it using <code class=\"language-text\">\\$this-&gt;hello_dolly_get_lyric();</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">Class</span> HelloDolly\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span> <span class=\"token single-quoted-string string\">'admin_head'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$this</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'dolly_css'</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span> <span class=\"token single-quoted-string string\">'admin_notices'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span> <span class=\"token variable\">$this</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'hello_dolly'</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello_dolly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token variable\">$chosen</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">hello_dolly_get_lyric</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">echo</span> <span class=\"token double-quoted-string string\">\"&amp;lt;p id='dolly'&amp;gt;<span class=\"token interpolation\"><span class=\"token variable\">$chosen</span></span>&amp;lt;/p&amp;gt;\"</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">dolly_css</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">hello_dolly_get_lyric</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// End Class</span>\n\n<span class=\"token variable\">$hello_dolly_oop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloDolly</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>I hope this very simple tutorial has helped your understanding of how an object-oriented WordPress plugin can be created. I have taken the liberty of cleaning up the code within the plugins function. This Code is on GitHub: <a href=\"https://gist.github.com/michaelcurry/8819401\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://gist.github.com/michaelcurry/8819401</a></p>","fields":{"readingTime":{"text":"3 min read"}},"frontmatter":{"title":"How To Make An Object Oriented WordPress Plugin","date":"February 05, 2014","description":"You just learned how to create a simple WordPress plugin, and now you hear people talking about how WordPress is becoming more object-oriented. What does that mean? Lets take a step back and start with the basics."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/object-oriented-wordpress-plugin/","previous":{"fields":{"slug":"/array-to-csv-download/"},"frontmatter":{"title":"2 Dimensional Array To CSV Download Using PHP"},"parent":{"id":"7fe4bd99-89ca-5aa3-89ae-efd625cb5164","name":"index","sourceInstanceName":"blog"}},"next":{"fields":{"slug":"/facebooks-hack-developer-day-2014/"},"frontmatter":{"title":"Facebook’s Hack Developer Day 2014"},"parent":{"id":"890475db-a434-560b-879c-2e9d1a7e811e","name":"index","sourceInstanceName":"blog"}}}}}